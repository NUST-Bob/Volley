# Volley源码解析

为了学习Volley的网络框架，我在AS中将Volley代码重新撸了一遍，感觉这种照抄代码也是一种挺好的学习方式。再分析Volley源码之前，我们先考虑一下，如果我们自己要设计一个网络请求框架，需要实现哪些事情，有哪些注意事项?

我的总结如下：

1. 需要抽象出request请求类（包括url, params, method等）,抽象出request请求类之后，我们可以对其继承从而实现丰富的扩展功能.
2. 需要抽象出response类。即服务器返回的结果需要抽象出来，方便我们继承扩展。
3. 需要实现并发和异步操作。具体包括：
    
    3-1. 抽象出Http请求类，封装基本操作。
    
    3-2. 将Http请求类在子线程中执行，最好能支撑并发。
    
    3-3. 由于需要并发，所以要用队列控制，并且能随时终止并发。
    
    3-4. 子线程获取结果后，需要支持异步，将请求结果返回给主线程。

4. 最好能实现缓存。当request抽象出来后，那相同的request请求可以直接从本地获取，不需要再通过网络获取。
5. 缓存需要有缓存替换机制，超时更新机制等.

在我总结的这些问题的基础上，我们来学习一下Volley是如何解决并实现这些问题的。

****

# Request.java

Request类就是Volley抽象出来的网络请求类了。我已经对其进行了中文注解，大家可以直接看一下其实现代码：



